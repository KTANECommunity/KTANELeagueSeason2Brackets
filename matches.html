<html>
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Brackets</title>

        <!-- Bootstrap and jQuery -->
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"></script>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

        <link rel="stylesheet" href="css/main.css"/>
        <script src="js/common.js"></script>

        <script>
            function hashChange() {
                setupPage(200);
            }

            function setupPage(animationDuration) {
                animationDuration = animationDuration || 0;
                $("#match-page").hide(animationDuration);
                $("#matches-page").hide(animationDuration);
                if (/^#([A-Za-z\-0-9]+)$/.exec(window.location.hash)) {
                    var matchId = RegExp.$1 | 0;
                    //$("#match-page").empty();
                    setupMatchPage(matchId);
                    $("#match-page").show(animationDuration);
                } else {
                    //$("#matches-page").empty();
                    setupMatchesPage();
                    $("#matches-page").show(animationDuration);
                }
            }

            function setupMatchPage(matchId) {
                let categoryList = {};
                console.log(matches);
                for (let match of matches) {
                    let category = match["category"];
                    if (category === null || category === undefined) {
                        continue;
                    }
                    if (!(category in categoryList)) {
                        categoryList[category] = [];
                    }
                    categoryList[category].push(match);
                }
                var categoryNames = {};
                var categoryShorthands = {};
                for (let category of categories) {
                    categoryNames[category["id"]] = category["name"];
                    categoryShorthands[category["id"]] = category["shorthand"];
                }
                for (let category in categoryList) {
                    $("#brackets").append($("<h1>", {"id": category}).text(categoryNames[category]));
                    $("#brackets").append(makeBracket(categoryList[category]));
                    $("#sidebar").append($("<a>", {"href": `#${category}`}).text(categoryShorthands[category]));
                }
            }

            function setupMatchesPage() {
                
            }

            window.onhashchange = hashChange;
        </script>
        <style>
            .page {
                width: 100%;
                height: 100%;
            }
        </style>
    </head>
    <body data-spy="scroll" data-target=".icon-bar" data-offset="50">
        <!-- Import Navbar -->
        <div id="navbar-placeholder" class="container"></div>

        <div id="sidebar" class="icon-bar"></div>

        <div id="match-page" class="page">
            <h1>Fizz</h1>
        </div>
        <div id="matches-page" class="page">
            <h1>Buzz</h1>
        </div>
    </body>
</html>